For a bash script, this executes faster than I expected. But it is able to
rely on bash-native expressions rather than calling out to external processes.
